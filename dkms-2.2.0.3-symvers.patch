--- dkms-2.2.0.3/dkms.symvers	2013-05-24 22:51:57.997690318 +0200
+++ dkms-2.2.0.3/dkms	2013-05-24 22:53:26.332964500 +0200
@@ -1269,6 +1269,11 @@ do_build()
     echo $"Building module:"
 
     invoke_command "$clean" "cleaning build area" background
+    zcat $dkms_tree/*/kernel-${kernelver_array[0]}-${arch_array[0]}/module/symvers.gz > Module.symvers 2>/dev/null
+    while [ "$count" -lt "${#built_module_name[@]}" ]; do
+        zcat $dkms_tree/*/kernel-${kernelver_array[0]}-${arch_array[0]}/module/symvers.gz > "${built_module_location[$count]}/Module.symvers" 2>/dev/null
+	count=$(($count+1))
+    done
     echo $"DKMS make.log for $module-$module_version for kernel $kernelver ($arch)" >> "$dkms_tree/$module/$module_version/build/make.log"
     date >> "$dkms_tree/$module/$module_version/build/make.log"
     local the_make_command="${make_command/#make/make KERNELRELEASE=$kernelver}"
@@ -1294,6 +1299,7 @@ do_build()
 
     # Save a copy of the new module
     mkdir "$base_dir/module" >/dev/null
+    echo -n | gzip -c > "$dkms_tree/$module/$module_version/${kernelver_array[0]}/${arch_array[0]}/module/symvers.gz"
     for ((count=0; count < ${#built_module_name[@]}; count++)); do
 	[[ ${strip[$count]} != no ]] && strip -g "$dkms_tree/$module/$module_version/build/${built_module_location[$count]}${built_module_name[$count]}$module_suffix"
 	cp -f "$dkms_tree/$module/$module_version/build/${built_module_location[$count]}${built_module_name[$count]}$module_suffix" "$base_dir/module/${dest_module_name[$count]}$module_suffix" >/dev/null
